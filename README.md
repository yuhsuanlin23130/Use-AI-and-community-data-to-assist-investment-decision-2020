### 說明
用AI及社群數據協助股票投資決策: 在資訊不對稱的群眾市場，以人工智慧語意技術，分析新聞與論壇內容的消息情報後，進行股價漲跌預測。 因為股票市場由群眾決定，因此分析群眾所反映的想法，即可預測市場。         

本專題針對科技業半導體個股，選擇討論量大、股價波動大的台積電、聯電、聯發科與大盤指數四支股票。 文本集來自2016到2018年Ptt BBS Stock論壇、mobile01投資與理財(生活娛樂)論壇、yahoo股市重大要聞與最新財經新聞。 先以標題含有人工設定的種子關鍵字過濾出各支股票的看漲與看跌文章集合，接著將文本集以n-gram(n=2~6)斷詞，去除包含英文、數字與停用詞、DF過小(DF<=10)的gram，並根據TF-IDF指標各自從看漲與看跌文章集篩選出看漲與看跌關鍵字。          

四支股票分別各嘗試Random Forest(RF)、K-Nearest Neighbor(KNN)、Support Vector Machine(SVM)三種分類模型。 四支股票都是Random Forest的validation F1 score最好(83%~87%)。                

移動回測與上述做法類似，但只以欲預測月份前3或5個月的文章集作為訓練資料集，建立RF、SVM模型，以預測該月每一天的股價漲跌。 準確率大約在50%上下。 綜合他組經驗分享，移動回測準確率有望到85%以上。 個人推測本組validation結果與移動回測結果差距甚遠，原因在於移動回測取3或5個月訓練資料數量太少，且看漲/跌文章集選的不夠具代表性。            

Possible Future Work
* 以其他方式篩選看漲/跌文章集，如多選一些聯動各股的關鍵字去篩文章，或從股價回推、參考ATR指標等。
* 目前以日期做時間上的區隔，而更精確的作法應以收盤時間做區隔 (例:收盤後到隔日開盤前)
* 目前將論壇與新聞內容共同作為文章集，然論壇反應股市氛圍，可能更適合作為大盤文章集，而新聞可能較適合作為個股文章集
* 目前只分成漲跌兩類，可試分成漲跌平三類
* 可先用分群演算法觀察分群結果        
個人認為若做以上修正，有望大幅提升移動回測準確率。

### 執行環境
Python3.7 + Jupyter Notebook

### 目錄結構說明
#### 資料前處理
keyword_extraction/dataset為Ptt BBS Stock論壇(bbs.csv)、mobile01投資與理財論壇(forum.csv)、yahoo股市新聞(news.csv)之原始文章集。壓縮檔請解壓縮。
執行keyword_extraction/keyword_extraction_fin_min.py，生成各股票看漲/看跌文章集與看漲/看跌keywords。經整理後儲存在keyword_dataset資料夾。
#### 模型訓練
model_training.py，讀取整理後的看漲/看跌文章集與看漲/看跌keywords，建構RF、KNN、SVM三種分類模型並顯示分類結果。
#### 移動回測
backtesting v2.py，移動回測結果儲存在backtesting_result資料夾中。


